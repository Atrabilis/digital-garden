/* ==========
   Design tokens
   ========== */
   :root{
    --bg: #ffffff;
    --bg-alt: #f6f7f9;
    --text: #1f2328;
    --muted: #6b7280;
    --border: #e5e7eb;
    --accent: #2563eb;
    --accent-2: #1e40af;
    --link: #0b65d8;
  
    --radius: 10px;
    --sidebar-w: 280px;
  
    --shadow-1: 0 1px 2px rgba(0,0,0,.05), 0 4px 12px rgba(0,0,0,.05);
  }

  /* Dark mode variables - Cursor theme */
  [data-theme="dark"] {
    --bg: #1e1e1e;
    --bg-alt: #252526;
    --text: #cccccc;
    --muted: #858585;
    --border: #3c3c3c;
    --accent: #007acc;
    --accent-2: #0e639c;
    --link: #4fc1ff;
    --shadow-1: 0 1px 2px rgba(0,0,0,.5), 0 4px 12px rgba(0,0,0,.4);
  }
  

  /* ==========
     Base
     ========== */
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body{
    margin: 0;
    font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;
    color: var(--text);
    background: var(--bg);
    display: flex;             /* sidebar + content */
    min-height: 100vh;
  }
  
  /* Defaults */
  img, video { max-width: 100%; height: auto; }
  a { color: var(--link); text-decoration: none; }
  a:hover { text-decoration: underline; }
  :focus-visible{
    outline: 3px solid color-mix(in oklab, var(--accent) 60%, transparent);
    outline-offset: 2px;
    border-radius: 6px;
  }
  
  /* ==========
     Sidebar (desktop, resizable)
     ========== */
/* === Sidebar resizable === */
/* Sidebar (desktop, resizable + estilos base) */
.sidebar{
  /* --- resizable --- */
  position: relative;
  width: var(--sidebar-w);
  min-width: 200px;
  max-width: 520px;
  /* NO uses 'resize: horizontal' cuando usas el handle + JS */
  overflow: auto;

  /* --- estilos base que ten√≠as antes --- */
  padding: 1.25rem 1rem 1.5rem;
  background: var(--bg-alt);
  border-right: 1px solid var(--border);
  position: sticky; /* mantiene sticky */
  top: 0;
  align-self: flex-start;
  height: 100vh;
}

/* Handle visible en el borde derecho */
.sidebar-resizer{
  position: absolute;
  top: 0;
  right: 0;
  width: 6px;
  height: 100%;
  cursor: ew-resize;
  background: transparent;
}

.sidebar-resizer:hover{ background: rgba(0,0,0,.05); }

/* Asegura que el main pueda encogerse cuando la sidebar crece */
.content{ flex: 1; min-width: 0; }

  
  .site-title{
    margin: 0 0 .25rem 0;
    font-size: 1.05rem;
    letter-spacing: .2px;
  }
  .site-title__link{
    display: inline-block;
    padding: .35rem .55rem;
    border-radius: 8px;
    color: var(--text);
    text-decoration: none;
    background: transparent;
  }
  .site-title__link:hover{
    background: color-mix(in oklab, var(--accent) 12%, transparent);
  }
  
  .site-desc{
    margin: .15rem 0 1rem;
    color: var(--muted);
    font-size: .92rem;
  }
  
  /* ==========
     Nav / Collections
     ========== */
  .side-nav__heading{
    margin: .25rem 0 .5rem 0;
    font-size: .95rem;
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .06em;
  }
  
  .side-nav__list{ list-style: none; padding: 0; margin: 0; }
  
  .collection{ margin: .35rem 0; }
  
  .collection__details{
    border: 1px solid var(--border);
    border-radius: 10px;
    background: var(--bg);
    box-shadow: var(--shadow-1);
    overflow: hidden;
  }
  
  .collection__summary{
    cursor: pointer;
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: .75rem;
    padding: .6rem .75rem;
    font-weight: 600;
    color: var(--text);
    transition: background .2s ease;
  }
  .collection__details[open] .collection__summary{
    background: color-mix(in oklab, var(--accent) 8%, transparent);
    border-bottom: 1px solid var(--border);
  }
  
  .collection__name{ display: inline-flex; align-items: center; gap: .4rem; }
  .collection__count{
    font-weight: 500;
    color: var(--muted);
    font-size: .9rem;
  }
  
  .doc-list{
    list-style: none;
    margin: 0;
    padding: .35rem .65rem .65rem;
  }
  .doc-list__item{ margin: .15rem 0; }
  .doc-list__link{
    display: block;
    padding: .35rem .5rem;
    border-radius: 8px;
    color: var(--text);
    text-decoration: none;
  }
  .doc-list__link:hover{
    background: color-mix(in oklab, var(--accent) 10%, transparent);
  }
  .doc-list__link.is-active{
    background: color-mix(in oklab, var(--accent) 18%, transparent);
    box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--accent) 50%, transparent);
  }

  /* ==========
     Subcategories
     ========== */
  .subcategory {
    margin: .5rem 0;
  }

  .subcategory__title {
    margin: .4rem 0 .2rem 0;
    padding: .2rem .5rem;
    font-size: .85rem;
    font-weight: 600;
    color: var(--muted);
    letter-spacing: .05em;
    border-left: 3px solid var(--accent);
    background: color-mix(in oklab, var(--accent) 5%, transparent);
    border-radius: 0 6px 6px 0;
  }

  .doc-list--nested {
    margin-left: .5rem;
    padding-left: .5rem;
    border-left: 1px solid color-mix(in oklab, var(--border) 60%, transparent);
  }

  .doc-list--nested .doc-list__item {
    margin: .1rem 0;
  }

  .doc-list--nested .doc-list__link {
    padding: .25rem .4rem;
    font-size: .9rem;
    color: var(--muted);
  }

  .doc-list--nested .doc-list__link:hover {
    background: color-mix(in oklab, var(--accent) 8%, transparent);
    color: var(--text);
  }

  .doc-list--nested .doc-list__link.is-active {
    background: color-mix(in oklab, var(--accent) 15%, transparent);
    color: var(--text);
    box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--accent) 40%, transparent);
  }
  
  /* ==========
     Content
     ========== */
     .content {
      flex: 1;
      min-width: 0;
      padding: 1.25rem 1.6rem 2rem;
      /* 
        Para que .content use el m√°ximo ancho disponible seg√∫n el tama√±o de la ventana (viewport), 
        puedes usar max-width: 100vw; en vez de un valor fijo. 
        Esto har√° que el contenido se adapte din√°micamente, incluso si la sidebar es redimensionada.
        Si quieres que respete el padding horizontal, puedes restar el padding con calc().
        Ejemplo recomendado para rendimiento y compatibilidad:
      */
      max-width: calc(100vw - var(--sidebar-w));
      /* 
        Si la sidebar es redimensionada por JS, puedes actualizar --sidebar-w din√°micamente 
        (por ejemplo, con JS al cambiar el ancho de la sidebar) para que el main se adapte perfectamente.
        Si no, max-width: 100vw; es suficiente para la mayor√≠a de casos.
      */
      max-width: calc(100vw - var(--sidebar-w));
      margin: 0 auto;   /* üëà centra horizontalmente */
    }
    
    
  
  /* Headings rhythm */
  .content h1{ margin: .2rem 0 1rem; line-height: 1.25; }
  .content h2{ margin: 1.6rem 0 .6rem; line-height: 1.3; }
  .content h3{ margin: 1.2rem 0 .4rem; line-height: 1.35; }
  
  /* Typography niceties */
  .content p{ margin: .75rem 0; }
  .content ul, .content ol{ margin: .5rem 0 .9rem 1.25rem; }
  .content blockquote{
    margin: 1rem 0;
    padding: .8rem 1rem;
    border-left: 4px solid var(--accent);
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    border-radius: 6px;
  }
  
  /* Inline code + pre */
  .content code{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    background: color-mix(in oklab, var(--accent) 12%, transparent);
    padding: .15rem .35rem;
    border-radius: 6px;
  }
  
  /* Dark mode inline code */
  [data-theme="dark"] .content code {
    background: color-mix(in oklab, var(--accent) 20%, transparent);
    color: #cccccc;
  }
  .content pre{
    overflow: auto;
    padding: .9rem 1rem;
    border: 1px solid var(--border);
    background: color-mix(in oklab, var(--accent) 8%, transparent);
    border-radius: 10px;
  }
  
  /* Tables */
  .content table{
    border-collapse: collapse;
    width: 100%;
    margin: 1rem 0;
    font-size: .95rem;
  }
  .content th, .content td{
    border: 1px solid var(--border);
    padding: .5rem .6rem;
  }
  .content thead th{
    background: var(--bg-alt);
    text-align: left;
  }
  
  /* ==========
     Scrollbar (sidebar)
     ========== */
  .sidebar::-webkit-scrollbar{ width: 10px; }
  .sidebar::-webkit-scrollbar-thumb{
    background: color-mix(in oklab, var(--accent) 25%, transparent);
    border-radius: 999px;
  }
  .sidebar::-webkit-scrollbar-track{ background: transparent; }
  
  /* ==========
     Rouge ‚Äî Cursor theme
     ========== */
  
  /* Block container */
  .highlight {
    background: #1e1e1e;    /* Cursor dark background */
    color: #cccccc;
    border-radius: 10px;
  }
  .highlight pre {
    background: transparent;
    color: inherit;
    margin: 0;
    padding: 0.9rem 1rem;
    overflow-x: auto;
  }
  
  /* Remove per-line blue/gray highlight */
  .highlight .hll { background: none !important; }
  .highlight table { border-collapse: collapse; }
  .highlight table td { background: none !important; padding: 0; }
  .highlight table pre { background: transparent !important; }
  
  /* Make inline code inside highlighted blocks inherit */
  .highlight code { background: transparent; padding: 0; }
  
  /* Cursor token colors */
  .highlight .k, .highlight .kc, .highlight .kd,
  .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt { color: #569cd6; } /* Keywords - Blue */
  .highlight .s, .highlight .sa, .highlight .sb, .highlight .sc,
  .highlight .dl, .highlight .sd, .highlight .s2, .highlight .se,
  .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr,
  .highlight .s1, .highlight .ss { color: #ce9178; } /* Strings - Orange */
  .highlight .m, .highlight .mb, .highlight .mf,
  .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo { color: #b5cea8; } /* Numbers - Light Green */
  .highlight .c, .highlight .ch, .highlight .cm, .highlight .c1, .highlight .cs {
    color: #6a9955; font-style: italic; } /* Comments - Green */
  .highlight .nf, .highlight .fm { color: #dcdcaa; } /* Function names - Yellow */
  .highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi { color: #9cdcfe; } /* Variables - Light Blue */
  .highlight .nc, .highlight .nn, .highlight .ne { color: #4ec9b0; } /* Classes/Modules - Teal */
  .highlight .o, .highlight .ow { color: #cccccc; } /* Operators - Gray */
  .highlight .nt { color: #569cd6; } /* Tags (HTML/XML) - Blue */
  .highlight .na { color: #9cdcfe; } /* Attributes - Light Blue */
  .highlight .nb { color: #cccccc; } /* Builtins / titles - Gray */
  
  /* Optional: subtle border to separate from page bg on light mode */
  @media (prefers-color-scheme: light){
    .highlight { border: 1px solid var(--border); }
  }
  
  /* ==========
     (Optional) Mobile overrides
     If you don't care about mobile for now, you can remove this whole block.
     ========== */
  /*
  @media (max-width: 900px){
    .sidebar{
      position: relative;
      height: auto;
      width: 100%;
      border-right: none;
      border-bottom: 1px solid var(--border);
      resize: none;           // disable resize on small screens
      cursor: default;
    }
    body{ display: block; }
    .content{ max-width: 860px; padding: 1rem 1.1rem 2rem; }
  }
  */

  /* ==========
     Dark Mode Toggle
     ========== */
  .theme-toggle {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin: 1rem 0;
    padding: 0.5rem 0.75rem;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    cursor: pointer;
    transition: all 0.2s ease;
    user-select: none;
  }

  .theme-toggle:hover {
    background: color-mix(in oklab, var(--accent) 8%, transparent);
    border-color: var(--accent);
  }

  .theme-toggle__label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text);
  }

  .theme-toggle__switch {
    position: relative;
    width: 44px;
    height: 24px;
    background: var(--border);
    border-radius: 12px;
    transition: background 0.2s ease;
  }

  .theme-toggle__switch::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background: var(--bg);
    border-radius: 50%;
    transition: transform 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  [data-theme="dark"] .theme-toggle__switch {
    background: var(--accent);
  }

  [data-theme="dark"] .theme-toggle__switch::before {
    transform: translateX(20px);
    background: #1e1e1e;
  }

  /* Icons for light/dark mode */
  .theme-toggle__icon {
    width: 16px;
    height: 16px;
    opacity: 0.7;
    transition: opacity 0.2s ease;
  }

  .theme-toggle__icon--sun {
    position: absolute;
    left: 4px;
    top: 50%;
    transform: translateY(-50%);
  }

  .theme-toggle__icon--moon {
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
  }

  [data-theme="dark"] .theme-toggle__icon--sun {
    opacity: 0.3;
  }

  [data-theme="dark"] .theme-toggle__icon--moon {
    opacity: 1;
  }

  :root:not([data-theme="dark"]) .theme-toggle__icon--sun {
    opacity: 1;
  }

  :root:not([data-theme="dark"]) .theme-toggle__icon--moon {
    opacity: 0.3;
  }
  